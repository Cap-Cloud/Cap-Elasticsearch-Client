buildscript {
    repositories {
        maven { url 'http://localhost:53301/repository/intellij-plugin-gradle/' }
        maven { url 'http://maven.aliyun.com/nexus/content/groups/public/' }
        maven { url 'https://www.jetbrains.com/intellij-repository/releases' }
        maven { url 'https://jitpack.io' }
        mavenCentral()
        jcenter()
        google()
    }

    dependencies {
        classpath project(':Language:Cap-GrammarKit-Composer')
    }
}

dependencies {
    compileOnly project(':Language:Cap-GrammarKit-Composer')
    implementation project(':Libriary:Cap-Annotations')
}

//apply plugin: 'org.jetbrains.grammarkit'
//apply plugin: 'com.cap.language.grammar.kit.composer'
//
//import org.jetbrains.grammarkit.tasks.GenerateLexer
//
//task generateElasticsearchKqlFlexLexer(type: GenerateLexer) {
//    source 'src/main/kotlin/com/cap/plugins/elasticsearch/language/kql/lexer/ElasticsearchKql.flex'
//    targetDir 'gen/com/cap/plugins/elasticsearch/language/kql/lexer/'
//    targetClass 'ElasticsearchKqlFlexLexer'
//    group = "grammar"
//    purgeOldFiles = true
//}
//
//compileKotlin.dependsOn generateElasticsearchKqlFlexLexer

sourceSets {
    main.java.srcDir "gen"
}
